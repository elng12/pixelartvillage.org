<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯­è¨€åˆ‡æ¢å™¨è°ƒè¯•æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #333;
            border-radius: 8px;
        }
        .debug-component {
            background: #ff0000;
            color: #ffffff;
            padding: 8px;
            margin: 4px;
            border: 3px solid #00ff00;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            min-width: 150px;
            cursor: pointer;
            display: block !important;
            visibility: visible !important;
            position: relative;
            z-index: 9999;
        }
        .debug-component select {
            display: block !important;
            visibility: visible !important;
            width: 100%;
            padding: 4px;
            background-color: #ffffff;
            color: #000000;
            border: 1px solid #cccccc;
            border-radius: 2px;
            font-size: 12px;
        }
        .status {
            background: #e8f5e8;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #4caf50;
        }
        .error {
            background: #ffebee;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #f44336;
        }
    </style>
</head>
<body>
    <h1>ğŸ” è¯­è¨€åˆ‡æ¢å™¨è°ƒè¯•æµ‹è¯•</h1>

    <div class="test-section">
        <h2>1. é™æ€HTMLæµ‹è¯•</h2>
        <p>è¿™ä¸ªçº¢è‰²çš„åŒºå—åº”è¯¥æ¸…æ™°å¯è§ï¼š</p>

        <div class="debug-component" id="static-test">
            <div>ğŸŒ LANG: EN</div>
            <select>
                <option value="en">English</option>
                <option value="es">EspaÃ±ol</option>
                <option value="de">Deutsch</option>
                <option value="fr">FranÃ§ais</option>
                <option value="ja">æ—¥æœ¬èª</option>
                <option value="ko">í•œêµ­ì–´</option>
            </select>
            <div style="margin-top: 4px; font-size: 10px; background: #ffff00; color: #000000; padding: 2px;">
                STATIC HTML
            </div>
        </div>

        <div class="status">
            âœ… å¦‚æœä½ èƒ½çœ‹åˆ°ä¸Šé¢çº¢åº•ç»¿è¾¹çš„è¯­è¨€é€‰æ‹©å™¨ï¼Œè¯´æ˜HTMLå’ŒCSSå·¥ä½œæ­£å¸¸
        </div>
    </div>

    <div class="test-section">
        <h2>2. æµè§ˆå™¨ä¿¡æ¯</h2>
        <p><strong>å½“å‰URLï¼š</strong> <span id="current-url"></span></p>
        <p><strong>ç”¨æˆ·ä»£ç†ï¼š</strong> <span id="user-agent"></span></p>
        <p><strong>æµè§ˆå™¨è¯­è¨€ï¼š</strong> <span id="browser-lang"></span></p>
    </div>

    <div class="test-section">
        <h2>3. ç¿»è¯‘æ–‡ä»¶æµ‹è¯•</h2>
        <button onclick="testTranslationFile('es')">æµ‹è¯•è¥¿ç­ç‰™è¯­ç¿»è¯‘æ–‡ä»¶</button>
        <button onclick="testTranslationFile('de')">æµ‹è¯•å¾·è¯­ç¿»è¯‘æ–‡ä»¶</button>
        <button onclick="testTranslationFile('fr')">æµ‹è¯•æ³•è¯­ç¿»è¯‘æ–‡ä»¶</button>
        <div id="translation-status"></div>
    </div>

    <div class="test-section">
        <h2>4. è°ƒè¯•æ­¥éª¤</h2>
        <ol>
            <li><strong>æ£€æŸ¥é™æ€ç»„ä»¶ï¼š</strong>ç¡®è®¤ä½ èƒ½çœ‹åˆ°çº¢åº•ç»¿è¾¹çš„è¯­è¨€é€‰æ‹©å™¨</li>
            <li><strong>æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š</strong>æŒ‰F12æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯</li>
            <li><strong>æ£€æŸ¥å…ƒç´ é¢æ¿ï¼š</strong>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨idä¸º"debug-language-switcher"çš„å…ƒç´ </li>
            <li><strong>æµ‹è¯•ç¿»è¯‘æ–‡ä»¶ï¼š</strong>ç‚¹å‡»æŒ‰é’®æ£€æŸ¥ç¿»è¯‘æ–‡ä»¶æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½</li>
            <li><strong>è®¿é—®ä¸»ç«™ï¼š</strong><a href="http://localhost:5173/" target="_blank">æ‰“å¼€ http://localhost:5173/</a> æŸ¥çœ‹è°ƒè¯•ç»„ä»¶</li>
        </ol>
    </div>

    <script>
        // æ˜¾ç¤ºæµè§ˆå™¨ä¿¡æ¯
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('user-agent').textContent = navigator.userAgent.substring(0, 100) + '...';
        document.getElementById('browser-lang').textContent = navigator.language;

        // æµ‹è¯•ç¿»è¯‘æ–‡ä»¶
        function testTranslationFile(lang) {
            const statusDiv = document.getElementById('translation-status');
            statusDiv.innerHTML = `<p>æ­£åœ¨æµ‹è¯• ${lang} ç¿»è¯‘æ–‡ä»¶...</p>`;

            fetch(`/locales/${lang}/translation.json`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    const keyCount = Object.keys(data).length;
                    statusDiv.innerHTML = `
                        <div class="status">
                            âœ… ${lang} ç¿»è¯‘æ–‡ä»¶åŠ è½½æˆåŠŸï¼<br>
                            åŒ…å« ${keyCount} ä¸ªç¿»è¯‘é”®<br>
                            ç¤ºä¾‹é”®ï¼š${Object.keys(data).slice(0, 5).join(', ')}...
                        </div>
                    `;
                })
                .catch(error => {
                    statusDiv.innerHTML = `
                        <div class="error">
                            âŒ ${lang} ç¿»è¯‘æ–‡ä»¶åŠ è½½å¤±è´¥ï¼š<br>
                            ${error.message}
                        </div>
                    `;
                });
        }

        // æ£€æŸ¥é¡µé¢ä¸Šçš„è°ƒè¯•ç»„ä»¶
        setTimeout(() => {
            const debugElement = document.getElementById('debug-language-switcher');
            if (debugElement) {
                console.log('âœ… æ‰¾åˆ°è°ƒè¯•ç»„ä»¶:', debugElement);
                console.log('ç»„ä»¶æ ·å¼:', window.getComputedStyle(debugElement));
            } else {
                console.warn('âŒ æœªæ‰¾åˆ°è°ƒè¯•ç»„ä»¶');
            }

            // æ£€æŸ¥é™æ€æµ‹è¯•å…ƒç´ 
            const staticElement = document.getElementById('static-test');
            if (staticElement) {
                console.log('âœ… æ‰¾åˆ°é™æ€æµ‹è¯•ç»„ä»¶:', staticElement);
            } else {
                console.warn('âŒ æœªæ‰¾åˆ°é™æ€æµ‹è¯•ç»„ä»¶');
            }
        }, 1000);

        console.log('è¯­è¨€åˆ‡æ¢å™¨è°ƒè¯•æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('å½“å‰URL:', window.location.href);
        console.log('æ­£åœ¨å¯»æ‰¾è°ƒè¯•ç»„ä»¶...');
    </script>
</body>
</html>